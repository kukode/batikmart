<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/preload.min.css">
    <link rel="stylesheet" href="assets/css/plugins.min.css">
    <link rel="stylesheet" href="assets/css/style.light-blue-500.min.css" />
    
</head>
<body>
    <div id="ms-preload" class="ms-preload">
        <div id="status">
          <div class="spinner">
            <div class="dot1"></div>
            <div class="dot2"></div>
          </div>
        </div>
      </div>
      
      <div class="bg-full-page ms-hero-bg-dark ms-hero-img-airplane back-fixed">
        <div class="mw-500 absolute-center">
          <div class="card color-dark shadow-6dp animated fadeIn animation-delay-7">
            <div class="ms-hero-bg-success ms-hero-img-mountain">
              <h2 class="text-center no-m pt-4 pb-4 color-white index-1">Admin Login</h2>
              <!-- <img class="img-responsive" src="icon.png"/> -->
            </div>
            <ul class="nav nav-tabs nav-tabs-full nav-tabs-3 nav-tabs-transparent indicator-primary" role="tablist">
              <!--Login-->
              <li class="nav-item" role="presentation">
                <a href="#ms-login-tab" aria-controls="ms-login-tab" role="tab" data-toggle="tab" class="nav-link withoutripple active">
                  <i class="zmdi zmdi-account"></i> Login</a>
              </li>
             
              
            </ul>
            <div class="card-body">
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade active show" id="ms-login-tab">
                  
                    <fieldset>
                      <div class="form-group label-floating">
                        <div class="input-group">
                          <span class="input-group-addon">
                            <i class="zmdi zmdi-account"></i>
                          </span>
                          <label class="control-label" for="ms-form-user">Email</label>
                          <input type="text" id="emailLog" class="form-control">
                        </div>
                      </div>
                      <div class="form-group label-floating">
                        <div class="input-group">
                          <span class="input-group-addon">
                            <i class="zmdi zmdi-lock"></i>
                          </span>
                          <label class="control-label" for="ms-form-pass">Password</label>
                          <input type="password" id="passLog" class="form-control"> 
                        </div>
                      </div>
                    
                        <div class="col-7">
                          <input  type="submit" class="btn btn-raised btn-primary pull-right" id="login" value="Login">
                        </div>
                      </div>
                    </fieldset>
                  
                 
                </div>

                </div>
                
              </div>
            </div>
          </div>
        
        </div>
      </div>




    <!--js-->  
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
    <script src="assets/js/plugins.min.js"></script>
    <script src="assets/js/app.min.js"></script>
    <script src="assets/js/index.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script async>
      (async()=>{

         

          
          const login = document.getElementById('login');
          login.addEventListener('click',async ()=> {

           
          
            
            
            try {
              
              const link = "http://localhost:3000/api/login";

              const mail = document.getElementById('emailLog').value;
              const pass = document.getElementById('passLog').value;
              const data = await axios.post(link,{
                "email" : mail,
                "password" : pass,
                "role" :  1
              })
              console.log(data.data)
              if(data.data.token){
                localStorage.setItem('token',`Bearer ${data.data.token}`)
                window.location = "dashboard/index.html"
              }
              else{
                alert('uppss gagal login!!!!')
              }
            } catch (error) {
              console.log(error)
            }
          })
        })()
        
    </script>
</body>
</html>